{% extends 'base.html' %}
{% load static %}

{% block content %}


{% load compress %}
{% compress css %}
    <link rel="stylesheet" type="text/x-scss" href="{% static 'main/style.scss' %}">
{% endcompress %}
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<link rel="stylesheet" type="text/css" href="{% static 'main/style.css' %}">

<div class="wrap" id="loading_message">
</div>

<div class="jumbotron" style="background-image: url('/static/images/main-background.png'); background-position: 95% center;  background-repeat: no-repeat; background-size: 15%;">
  <div style="margin-left: 100px;">
    <h1 class="display-4"><b>Welcome to <b style='font-weight:700'>VaccineDynamic</b></b></h1>
    <h5 class="lead" style="margin-top: 25px">Vaccine Cost-effectiveness Prediction Model</h5>
    <hr/>

    Designed and maintained by
    <b>Institute of Epidemiology and Preventive Medicine, National Taiwan University
    </b>
    <br/>

  </div>
</div>



<div id="alert-holding-div">
</div>

<!-- <img src="{% static "images/pathogen_workflow.png" %}" alt="My image" style="width:100%"> -->

<!-- <script>


  var bodySelection = d3.select("body");
  var svgSelection = bodySelection.append("svg").attr("width", 50).attr("height", 50);
  var circleSelection = svgSelection.append("circle").attr("cx", 25).attr("cy", 25).attr("r", 25).style("fill", "purple");

  var theData = [ 1, 2, 3 ]
  var p = d3.select("body").selectAll("p").data(theData).enter().append("p").text("hello ");
  console.log("p:: ", p);


  var treeData = {
      name: '/',
      contents: [
          {
              name: 'Applications',
              contents: [
                  { name: 'Mail.app' },
                  { name: 'iPhoto.app' },
                  { name: 'Keynote.app' },
                  { name: 'iTunes.app' },
                  { name: 'XCode.app' },
                  { name: 'Numbers.app' },
                  { name: 'Pages.app' },
              ],
          },
          {
              name: 'System',
              contents: [],
          },
          {
              name: 'Library',
              contents: [
                  {
                      name: 'Application Support',
                      contents: [{ name: 'Adobe' }, { name: 'Apple' }, { name: 'Google' }, { name: 'Microsoft' }],
                  },
                  {
                      name: 'Languages',
                      contents: [{ name: 'Ruby' }, { name: 'Python' }, { name: 'Javascript' }, { name: 'C#' }],
                  },
                  {
                      name: 'Developer',
                      contents: [{ name: '4.2' }, { name: '4.3' }, { name: '5.0' }, { name: 'Documentation' }],
                  },
              ],
          },
          {
              name: 'opt',
              contents: [],
          },
          {
              name: 'Users',
              contents: [{ name: 'pavanpodila' }, { name: 'admin' }, { name: 'test-user' }],
          },
      ],
  };

  // var tree = d3.layout.tree().sort(null).size([size.height, size.width - maxLabelLength * options.fontSize]).children(function(d) {
  //       return !d.contents || d.contents.length === 0 ? null : d.contents;
  //   });

  var nodes = tree.nodes(treeData);
  var links = tree.links(nodes);

  var width = 960,
      height = 500;

  var color = d3.scale.category20();

  var force = d3.layout.force()
      .charge(-120)
      .linkDistance(30)
      .size([width, height]);

  var svg = d3.select("body").append("svg")
      .attr("width", width)
      .attr("height", height);

  d3.json("https://gist.githubusercontent.com/mbostock/4062045/raw/4176c7d0c0c5ce15630d16072da0af67bb50eb6a/miserables.json", function(error, graph) {
    if (error) throw error;

    force
        .nodes(graph.nodes)
        .links(graph.links)
        .start();

    var link = svg.selectAll(".link")
        .data(graph.links)
      .enter().append("line")
        .attr("class", "link")
        .style("stroke-width", function(d) { return Math.sqrt(d.value); });

    var node = svg.selectAll(".node")
        .data(graph.nodes)
      .enter().append("circle")
        .attr("class", "node")
        .attr("r", 5)
        .style("fill", function(d) { return color(d.group); })
        .call(force.drag);

    node.append("title")
        .text(function(d) { return d.name; });

    force.on("tick", function() {
      link.attr("x1", function(d) { return d.source.x; })
          .attr("y1", function(d) { return d.source.y; })
          .attr("x2", function(d) { return d.target.x; })
          .attr("y2", function(d) { return d.target.y; });

      node.attr("cx", function(d) { return d.x; })
          .attr("cy", function(d) { return d.y; });
    });
  });
  // chart = {
  //
  //   const root = d3.hierarchy(data);
  //
  //   root.x0 = dy / 2;
  //   root.y0 = 0;
  //   root.descendants().forEach((d, i) => {
  //     d.id = i;
  //     d._children = d.children;
  //     if (d.depth && d.data.name.length !== 7) d.children = null;
  //   });
  //
  //   const svg = d3.create("svg")
  //       .attr("viewBox", [-margin.left, -margin.top, width, dx])
  //       .style("font", "10px sans-serif")
  //       .style("user-select", "none");
  //
  //   const gLink = svg.append("g")
  //       .attr("fill", "none")
  //       .attr("stroke", "#555")
  //       .attr("stroke-opacity", 0.4)
  //       .attr("stroke-width", 1.5);
  //
  //   const gNode = svg.append("g")
  //       .attr("cursor", "pointer")
  //       .attr("pointer-events", "all");
  //
  //   function update(source) {
  //     const duration = d3.event && d3.event.altKey ? 2500 : 250;
  //     const nodes = root.descendants().reverse();
  //     const links = root.links();
  //
  //     // Compute the new tree layout.
  //     tree(root);
  //
  //     let left = root;
  //     let right = root;
  //     root.eachBefore(node => {
  //       if (node.x < left.x) left = node;
  //       if (node.x > right.x) right = node;
  //     });
  //
  //     const height = right.x - left.x + margin.top + margin.bottom;
  //
  //     const transition = svg.transition()
  //         .duration(duration)
  //         .attr("viewBox", [-margin.left, left.x - margin.top, width, height])
  //         .tween("resize", window.ResizeObserver ? null : () => () => svg.dispatch("toggle"));
  //
  //     // Update the nodes…
  //     const node = gNode.selectAll("g")
  //       .data(nodes, d => d.id);
  //
  //     // Enter any new nodes at the parent's previous position.
  //     const nodeEnter = node.enter().append("g")
  //         .attr("transform", d => `translate(${source.y0},${source.x0})`)
  //         .attr("fill-opacity", 0)
  //         .attr("stroke-opacity", 0)
  //         .on("click", d => {
  //           d.children = d.children ? null : d._children;
  //           update(d);
  //         });
  //
  //     nodeEnter.append("circle")
  //         .attr("r", 2.5)
  //         .attr("fill", d => d._children ? "#555" : "#999")
  //         .attr("stroke-width", 10);
  //
  //     nodeEnter.append("text")
  //         .attr("dy", "0.31em")
  //         .attr("x", d => d._children ? -6 : 6)
  //         .attr("text-anchor", d => d._children ? "end" : "start")
  //         .text(d => d.data.name)
  //       .clone(true).lower()
  //         .attr("stroke-linejoin", "round")
  //         .attr("stroke-width", 3)
  //         .attr("stroke", "white");
  //
  //     // Transition nodes to their new position.
  //     const nodeUpdate = node.merge(nodeEnter).transition(transition)
  //         .attr("transform", d => `translate(${d.y},${d.x})`)
  //         .attr("fill-opacity", 1)
  //         .attr("stroke-opacity", 1);
  //
  //     // Transition exiting nodes to the parent's new position.
  //     const nodeExit = node.exit().transition(transition).remove()
  //         .attr("transform", d => `translate(${source.y},${source.x})`)
  //         .attr("fill-opacity", 0)
  //         .attr("stroke-opacity", 0);
  //
  //     // Update the links…
  //     const link = gLink.selectAll("path")
  //       .data(links, d => d.target.id);
  //
  //     // Enter any new links at the parent's previous position.
  //     const linkEnter = link.enter().append("path")
  //         .attr("d", d => {
  //           const o = {x: source.x0, y: source.y0};
  //           return diagonal({source: o, target: o});
  //         });
  //
  //     // Transition links to their new position.
  //     link.merge(linkEnter).transition(transition)
  //         .attr("d", diagonal);
  //
  //     // Transition exiting nodes to the parent's new position.
  //     link.exit().transition(transition).remove()
  //         .attr("d", d => {
  //           const o = {x: source.x, y: source.y};
  //           return diagonal({source: o, target: o});
  //         });
  //
  //     // Stash the old positions for transition.
  //     root.eachBefore(d => {
  //       d.x0 = d.x;
  //       d.y0 = d.y;
  //     });
  //   }
  //
  //   update(root);
  //
  //   return svg.node();
  // }
</script> -->


<div style="margin: 40px">
  <div id="current_day_show" style="font-size: 40px; margin-bottom: 25px; font-weight: 1000; text-align: center; color:#de8212">
  </div>
  <div id="chart_title_show" style="font-size: 28px; margin-bottom: 10px; font-weight: 700;">
  </div>
  <div id="chart_pannel_container">
  </div>



  <script>
    console.log("analysis_code: ", "{{analysis_code}}")
    function setChart(data, chart_id) {
      var ctx = document.getElementById(chart_id);
      if (chart_id == "totalInfected") {
        var backgroundColor = 'rgba(255, 99, 132, 0.2)'
        var borderColor = 'rgba(255,99,132,1)'
        var label = "Total Infected"
      } else if (chart_id == "currentInfected") {
        var backgroundColor = 'rgba(255, 99, 132, 0.2)'
        var borderColor = 'rgba(255,99,132,1)'
        var label = "Current Infected"
      } else if (chart_id == "newInfected") {
        var backgroundColor = 'rgba(255, 99, 132, 0.2)'
        var borderColor = 'rgba(255,99,132,1)'
        var label = "New Infected"
      } else if (chart_id == "newDeath") {
        var backgroundColor = 'rgba(54, 162, 235, 0.2)'
        var borderColor = 'rgba(54, 162, 235, 1)'
        var label = "New Death"
      } else if (chart_id == "totalDeath") {
        var backgroundColor = 'rgba(54, 162, 235, 0.2)'
        var borderColor = 'rgba(54, 162, 235, 1)'
        var label = "Total Death"
      } else if (chart_id == "totalRecovery") {
        var backgroundColor = 'rgba(255, 206, 86, 0.2)'
        var borderColor = 'rgba(255, 206, 86, 1)'
        var label = "Total Recovery"
      } else if (chart_id == "newRecovery") {
        var backgroundColor = 'rgba(255, 206, 86, 0.2)'
        var borderColor = 'rgba(255, 206, 86, 1)'
        var label = "New Recovery"
      } else if (chart_id == "totalReachDay") {
        var backgroundColor = 'rgba(75, 192, 192, 0.2)'
        var borderColor = 'rgba(75, 192, 192, 1)'
        var label = "Total Patients Reached Transmission Days"
      } else if (chart_id == "newReachDay") {
        var backgroundColor = 'rgba(75, 192, 192, 0.2)'
        var borderColor = 'rgba(75, 192, 192, 1)'
        var label = "New Patients Reached Transmission Days"
      }
      var mychart = new Chart(ctx, {
          type: 'line',
          data: {
            labels: data.labels,
           datasets: [{
               label: label,
               data: data[chart_id+"_sz"],
               backgroundColor: [
                  backgroundColor
               ],
              borderColor: [
                  borderColor
              ],
              borderWidth: 1
            }]
          },
          options: {
              responsive:true,
              maintainAspectRatio: false,
              scales: {
                  yAxes: [{
                      ticks: {
                          beginAtZero:true
                      }
                  }]
              }
          }
      });
    }

    var current_data = {}
    var update_data = {}
    console.log("current_data.data: ", current_data.data)
    console.log("update_data.data: ", update_data.data)
    console.log("'api-data/{{analysis_code}}',: ", 'api-data/{{analysis_code}}')
    $.ajax({
        method: 'GET',
        url: 'api-data/{{analysis_code}}',
        success: function(data){
            console.log("Initial analysis_code: ", "{{analysis_code}}")
            // current_data = Object.assign({}, data);
            update_data = Object.assign({}, data);
            console.log("data: ", data)
            console.log("data 2: ", data)
        },
        error: function(error_data){
          console.log("Initial analysis_code: ", "api-data/{{analysis_code}}")
          console.log('error');
        }
    })
    if ("{{button_clicked}}" == "True") {
      var interval = null;
      interval = setInterval(background_fetch_data, 1000);

      function update_chart_pannel() {
        if (JSON.stringify(current_data) != JSON.stringify(update_data)) {
          current_data = Object.assign({}, update_data);
          setChart(current_data, "totalInfected");
          setChart(current_data, "currentInfected");
          setChart(current_data, "newInfected");
          setChart(current_data, "totalDeath");
          setChart(current_data, "newDeath");
          setChart(current_data, "totalRecovery");
          setChart(current_data, "newRecovery");
          setChart(current_data, "totalReachDay");
          setChart(current_data, "newReachDay");
        }
      }

      function background_fetch_data(){
        $.ajax({
            method: 'GET',
            url: 'api-data/{{analysis_code}}',
            success: function(data){
                console.log("1. update analysis_code: ", "{{analysis_code}}")
                console.log("2. task_status: ", data.task_status)
                update_data = Object.assign({}, data);
                console.log("4. current_data: ", data['totalInfected_sz'])
                if ("{{button_clicked}}" == "True") {
                  var form_wrapper = document.getElementById('form_wrapper');
                  if (form_wrapper != null) {
                    var pannel_content = `
                    <div id="chart_pannel" style="border: 3px solid #a8a8a8;">
                      <div class="card" >
                        <div class="card-header" id="infected_card_header">
                          <h5 class="mb-0">
                            <button class="btn btn-link" data-toggle="collapse" data-target="#infected_card_collapse" aria-expanded="true" aria-controls="infected_card_collapse" style="text-decoration: none; color:rgba(255, 99, 132, 1); font-weight:700; font-size:20px">
                              <i class="fa fa-line-chart" aria-hidden="true"></i>&nbsp; Infected Line Chart
                            </button>
                          </h5>
                        </div>
                        <div id="infected_card_collapse" class="collapse show" aria-labelledby="infected_card_header" data-parent="#accordion">
                          <div class="card-body">
                            <div class="row">
                              <div class="col-4">
                                <div class="chart-container" style="height:300px">
                                  <canvas id="totalInfected"></canvas>
                                </div>
                              </div>
                              <div class="col-4">
                                <div class="chart-container" style="height:300px">
                                  <canvas id="currentInfected"></canvas>
                                </div>
                              </div>
                              <div class="col-4">
                                <div class="chart-container" style="height:300px">
                                  <canvas id="newInfected"></canvas>
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>


                      <div class="card" >
                        <div class="card-header" id="death_card_header">
                          <h5 class="mb-0">
                            <button class="btn btn-link" data-toggle="collapse" data-target="#death_card_collapse" aria-expanded="true" aria-controls="death_card_collapse" style="text-decoration: none; color:rgba(54, 162, 235, 1); font-weight:700; font-size:20px">
                              <i class="fa fa-line-chart" aria-hidden="true"></i>&nbsp; Death Line Chart
                            </button>
                          </h5>
                        </div>
                        <div id="death_card_collapse" class="collapse show" aria-labelledby="death_card_header" data-parent="#accordion">
                          <div class="card-body">
                            <div class="row">
                              <div class="col-6">
                                <div class="chart-container" style="height:300px">
                                  <canvas id="totalDeath"></canvas>
                                </div>
                              </div>
                              <div class="col-6">
                                <div class="chart-container" style="height:300px">
                                  <canvas id="newDeath"></canvas>
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>


                      <div class="card" >
                        <div class="card-header" id="recovery_card_header">
                          <h5 class="mb-0">
                            <button class="btn btn-link" data-toggle="collapse" data-target="#recovery_card_collapse" aria-expanded="true" aria-controls="recovery_card_collapse" style="text-decoration: none; color:rgba(255, 206, 86, 1); font-weight:700; font-size:20px">
                              <i class="fa fa-line-chart" aria-hidden="true"></i>&nbsp; Recovery Line Chart
                            </button>
                          </h5>
                        </div>
                        <div id="recovery_card_collapse" class="collapse show" aria-labelledby="recovery_card_header" data-parent="#accordion">
                          <div class="card-body">
                            <div class="row">
                              <div class="col-6">
                                <div class="chart-container" style="height:300px">
                                  <canvas id="totalRecovery"></canvas>
                                </div>
                              </div>
                              <div class="col-6">
                                <div class="chart-container" style="height:300px">
                                  <canvas id="newRecovery"></canvas>
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>


                      <div class="card" >
                        <div class="card-header" id="reachday_card_header">
                          <h5 class="mb-0">
                            <button class="btn btn-link" data-toggle="collapse" data-target="#reachday_card_collapse" aria-expanded="true" aria-controls="reachday_card_collapse" style="text-decoration: none; color:rgba(75, 192, 192, 1); font-weight:700; font-size:20px">
                              <i class="fa fa-line-chart" aria-hidden="true"></i>&nbsp; Days Reached Line Chart
                            </button>
                          </h5>
                        </div>
                        <div id="reachday_card_collapse" class="collapse show" aria-labelledby="reachday_card_header" data-parent="#accordion">
                          <div class="card-body">
                            <div class="row">
                              <div class="col-6">
                                <div class="chart-container" style="height:300px">
                                  <canvas id="totalReachDay"></canvas>
                                </div>
                              </div>
                              <div class="col-6">
                                <div class="chart-container" style="height:300px">
                                  <canvas id="newReachDay"></canvas>
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>





                    </div>`
                      console.log("8. pannel_content !!!: ", pannel_content)
                    document.getElementById("chart_pannel_container").insertAdjacentHTML('afterbegin', pannel_content)

                    form_wrapper.remove();
                  }

                  if ($('#loading_message').children().length == 0) {
                    var load_msg_content = `
                    <div class="loading" style="backdrop-filter: blur(4px); border-radius: 25px;">
                      <div class="bounceball" ></div>
                      &nbsp;
                      <div class="bounceball2"></div>
                      &nbsp;
                      <div class="bounceball3"></div>
                      <div class="text">&nbsp; RUNNING</div>
                    </div>
                    `
                    document.getElementById("loading_message").insertAdjacentHTML('afterbegin', load_msg_content)
                  }
                  if (data.labels != null) {
                    var current_day = data.labels[data.labels.length - 1];
                    document.getElementById("current_day_show").innerHTML = '<i class="fas fa-sun" style="margin-left: 10px"></i> &nbsp;' + current_day;
                  }

                  if ($('#chart_title_show').children().length == 0) {
                    document.getElementById("chart_title_show").innerHTML = '<i class="fas fa-pen" style="margin-left: 10px"></i> &nbsp; Simulation Charts';
                  }
// <label style="text-align: right" for="BMP_IDX_CASE_NUM" class="col-7 col-form-label"></label>
                  if ($('#simulation_model_result').children().length == 0) {
                    $.ajax({
                        method: 'GET',
                        url: 'api-params-data/{{analysis_code}}',
                        success: function(params_data){
                            // current_data = Object.assign({}, data);
                            var load_simulation_model_result = `
                              <div style="font-size: 28px; margin-top: 30px; margin-bottom: 10px; font-weight: 700">
                                <i class="fa fa-keyboard"></i> &nbsp; Input Parameters
                              </div>

                              <div style="border: 3px solid #a8a8a8;">
                                <div class="card">
                                  <div class="card-header" id="basic_model_parameters_header">
                                    <h5 class="mb-0">
                                      <button class="btn btn-link" data-toggle="collapse" data-target="#basic_model_parameters_card_collapse" aria-expanded="true" aria-controls="basic_model_parameters_card_collapse" style="text-decoration: none; color:#262626; font-weight:bold; font-size:20px">
                                        <i class="fa fa-dot-circle"></i> &nbsp; Basic Model Parameters
                                      </button>
                                    </h5>
                                  </div>
                                  <div id="basic_model_parameters_card_collapse" class="collapse show" aria-labelledby="basic_model_parameters_header" data-parent="#accordion">
                                    <div class="card-body">
                                      <div class="row">
                                        <div class="col">
                                          <div class="form-group row">
                                            <div class="col-8" style="text-align: right">
                                              Idex case number:
                                            </div>
                                            <div class="col-4">`+
                                              params_data.BMP_IDX_CASE_NUM +
                                            `</div>
                                          </div>
                                        </div>
                                        <div class="col">
                                          <div class="form-group row">
                                            <div class="col-8" style="text-align: right">
                                              Simulation day:
                                            </div>
                                            <div class="col-4">`+
                                              params_data.BMP_SIMULATION_DAY +
                                            `</div>
                                          </div>
                                        </div>
                                        <div class="col">
                                          <div class="form-group row">
                                            <div class="col-8" style="text-align: right">
                                              Simulation times:
                                            </div>
                                            <div class="col-4">`+
                                              params_data.BMP_SIMULATION_TIME +
                                            `</div>
                                          </div>
                                        </div>
                                        <div class="col">
                                          <div class="form-group row">
                                            <div class="col-8" style="text-align: right">
                                              Cycle days:
                                            </div>
                                            <div class="col-4">`+
                                              params_data.BMP_CYCLE_DAYS +
                                            `</div>
                                          </div>
                                        </div>
                                      </div>
                                    </div>
                                  </div>
                                </div>

                                <div class="card" >
                                  <div class="card-header" id="age_group_percentage_header">
                                    <h5 class="mb-0">
                                      <button class="btn btn-link" data-toggle="collapse" data-target="#age_group_percentage_card_collapse" aria-expanded="true" aria-controls="age_group_percentage_card_collapse" style="text-decoration: none; color:#262626; font-weight:bold; font-size:20px">
                                        <i class="fa fa-dot-circle"></i> &nbsp; Age Group Percentage
                                      </button>
                                    </h5>
                                  </div>
                                  <div id="age_group_percentage_card_collapse" class="collapse show" aria-labelledby="age_group_percentage_header" data-parent="#accordion">
                                    <div class="card-body">
                                      <div class="row">
                                        <div class="col">
                                          <div class="form-group row">
                                            <div class="col-8" style="text-align: right">
                                              Idex case number:
                                            </div>
                                            <div class="col-4">`+
                                              params_data.AGP_YOUTH_GRP +
                                            `</div>
                                          </div>
                                        </div>
                                        <div class="col">
                                          <div class="form-group row">
                                            <div class="col-8" style="text-align: right">
                                              Simulation day:
                                            </div>
                                            <div class="col-4">`+
                                              params_data.AGP_ADULT_GRP +
                                            `</div>
                                          </div>
                                        </div>
                                        <div class="col">
                                          <div class="form-group row">
                                            <div class="col-8" style="text-align: right">
                                              Simulation times:
                                            </div>
                                            <div class="col-4">`+
                                              params_data.AGP_ELDER_GRP +
                                            `</div>
                                          </div>
                                        </div>
                                        <div class="col">
                                        </div>
                                      </div>
                                    </div>
                                  </div>
                                </div>

                                <div class="card" >
                                  <div class="card-header" id="contact_rate_header">
                                    <h5 class="mb-0">
                                      <button class="btn btn-link" data-toggle="collapse" data-target="#contact_rate_card_collapse" aria-expanded="true" aria-controls="contact_rate_card_collapse" style="text-decoration: none; color:#262626; font-weight:bold; font-size:20px">
                                        <i class="fa fa-dot-circle"></i> &nbsp; Contact Rate
                                      </button>
                                    </h5>
                                  </div>
                                  <div id="contact_rate_card_collapse" class="collapse show" aria-labelledby="contact_rate_header" data-parent="#accordion">
                                    <div class="card-body">
                                      <div class="row">
                                        <div class="col">
                                          <div class="form-group row">
                                            <div class="col-8" style="text-align: right">
                                              Idex case number:
                                            </div>
                                            <div class="col-4">`+
                                              params_data.CR_SAME_GRP +
                                            `</div>
                                          </div>
                                        </div>
                                        <div class="col">
                                          <div class="form-group row">
                                            <div class="col-8" style="text-align: right">
                                              Simulation day:
                                            </div>
                                            <div class="col-4">`+
                                              params_data.CR_DIFF_GRP +
                                            `</div>
                                          </div>
                                        </div>
                                        <div class="col">
                                        </div>
                                        <div class="col">
                                        </div>
                                      </div>
                                    </div>
                                  </div>
                                </div>

                                <div class="card" >
                                  <div class="card-header" id="vaccine_rate_header">
                                    <h5 class="mb-0">
                                      <button class="btn btn-link" data-toggle="collapse" data-target="#vaccine_rate_card_collapse" aria-expanded="true" aria-controls="vaccine_rate_card_collapse" style="text-decoration: none; color:#262626; font-weight:bold; font-size:20px">
                                        <i class="fa fa-dot-circle"></i> &nbsp; Vaccine Rate
                                      </button>
                                    </h5>
                                  </div>
                                  <div id="vaccine_rate_card_collapse" class="collapse show" aria-labelledby="vaccine_rate_header" data-parent="#accordion">
                                    <div class="card-body">
                                      <div class="row">
                                        <div class="col">
                                          <div class="form-group row">
                                            <div class="col-8" style="text-align: right">
                                              Idex case number:
                                            </div>
                                            <div class="col-4">`+
                                              params_data.VR_YOUTH_RT +
                                            `</div>
                                          </div>
                                        </div>
                                        <div class="col">
                                          <div class="form-group row">
                                            <div class="col-8" style="text-align: right">
                                              Simulation day:
                                            </div>
                                            <div class="col-4">`+
                                              params_data.VR_ADULT_RT +
                                            `</div>
                                          </div>
                                        </div>
                                        <div class="col">
                                          <div class="form-group row">
                                            <div class="col-8" style="text-align: right">
                                              Simulation times:
                                            </div>
                                            <div class="col-4">`+
                                              params_data.VR_ELDER_RT +
                                            `</div>
                                          </div>
                                        </div>
                                        <div class="col">
                                        </div>
                                      </div>
                                    </div>
                                  </div>
                                </div>

                                <div class="card" >
                                  <div class="card-header" id="infection_rate_header">
                                    <h5 class="mb-0">
                                      <button class="btn btn-link" data-toggle="collapse" data-target="#infection_rate_card_collapse" aria-expanded="true" aria-controls="infection_rate_card_collapse" style="text-decoration: none; color:#262626; font-weight:bold; font-size:20px">
                                        <i class="fa fa-dot-circle"></i> &nbsp; Infection Rate
                                      </button>
                                    </h5>
                                  </div>
                                  <div id="infection_rate_card_collapse" class="collapse show" aria-labelledby="infection_rate_header" data-parent="#accordion">
                                    <div class="card-body">
                                      <div class="row">
                                        <div class="col">
                                          <div class="form-group row">
                                            <div class="col-8" style="text-align: right">
                                              Idex case number:
                                            </div>
                                            <div class="col-4">`+
                                              params_data.IR_YOUTH_V_RT +
                                            `</div>
                                          </div>
                                        </div>
                                        <div class="col">
                                          <div class="form-group row">
                                            <div class="col-8" style="text-align: right">
                                              Simulation day:
                                            </div>
                                            <div class="col-4">`+
                                              params_data.IR_ADULT_V_RT +
                                            `</div>
                                          </div>
                                        </div>
                                        <div class="col">
                                          <div class="form-group row">
                                            <div class="col-8" style="text-align: right">
                                              Simulation times:
                                            </div>
                                            <div class="col-4">`+
                                              params_data.IR_ELDER_V_RT +
                                            `</div>
                                          </div>
                                        </div>
                                        <div class="col">
                                        </div>
                                      </div>
                                      <div class="row">
                                        <div class="col">
                                          <div class="form-group row">
                                            <div class="col-8" style="text-align: right">
                                              Idex case number:
                                            </div>
                                            <div class="col-4">`+
                                              params_data.IR_YOUTH_NV_RT +
                                            `</div>
                                          </div>
                                        </div>
                                        <div class="col">
                                          <div class="form-group row">
                                            <div class="col-8" style="text-align: right">
                                              Simulation day:
                                            </div>
                                            <div class="col-4">`+
                                              params_data.IR_ADULT_NV_RT +
                                            `</div>
                                          </div>
                                        </div>
                                        <div class="col">
                                          <div class="form-group row">
                                            <div class="col-8" style="text-align: right">
                                              Simulation times:
                                            </div>
                                            <div class="col-4">`+
                                              params_data.IR_ELDER_NV_RT +
                                            `</div>
                                          </div>
                                        </div>
                                        <div class="col">
                                        </div>
                                      </div>
                                    </div>
                                  </div>
                                </div>

                                <div class="card" >
                                  <div class="card-header" id="seek_treatment_rate_header">
                                    <h5 class="mb-0">
                                      <button class="btn btn-link" data-toggle="collapse" data-target="#seek_treatment_rate_card_collapse" aria-expanded="true" aria-controls="seek_treatment_rate_card_collapse" style="text-decoration: none; color:#262626; font-weight:bold; font-size:20px">
                                        <i class="fa fa-dot-circle"></i> &nbsp; Seek Treatment Rate
                                      </button>
                                    </h5>
                                  </div>
                                  <div id="seek_treatment_rate_card_collapse" class="collapse show" aria-labelledby="seek_treatment_rate_header" data-parent="#accordion">
                                    <div class="card-body">
                                      <div class="row">
                                        <div class="col">
                                          <div class="form-group row">
                                            <div class="col-8" style="text-align: right">
                                              Idex case number:
                                            </div>
                                            <div class="col-4">`+
                                              params_data.STR_YOUTH_RT +
                                            `</div>
                                          </div>
                                        </div>
                                        <div class="col">
                                          <div class="form-group row">
                                            <div class="col-8" style="text-align: right">
                                              Simulation day:
                                            </div>
                                            <div class="col-4">`+
                                              params_data.STR_ADULT_RT +
                                            `</div>
                                          </div>
                                        </div>
                                        <div class="col">
                                          <div class="form-group row">
                                            <div class="col-8" style="text-align: right">
                                              Simulation times:
                                            </div>
                                            <div class="col-4">`+
                                              params_data.STR_ELDER_RT +
                                            `</div>
                                          </div>
                                        </div>
                                        <div class="col">
                                        </div>
                                      </div>
                                    </div>
                                  </div>
                                </div>

                                <div class="card" >
                                  <div class="card-header" id="medicine_intake_rate_header">
                                    <h5 class="mb-0">
                                      <button class="btn btn-link" data-toggle="collapse" data-target="#medicine_intake_rate_card_collapse" aria-expanded="true" aria-controls="medicine_intake_rate_card_collapse" style="text-decoration: none; color:#262626; font-weight:bold; font-size:20px">
                                        <i class="fa fa-dot-circle"></i> &nbsp; Medicine Intake Rate
                                      </button>
                                    </h5>
                                  </div>
                                  <div id="medicine_intake_rate_card_collapse" class="collapse show" aria-labelledby="medicine_intake_rate_header" data-parent="#accordion">
                                    <div class="card-body">
                                      <div class="row">
                                        <div class="col">
                                          <div class="form-group row">
                                            <div class="col-8" style="text-align: right">
                                              Idex case number:
                                            </div>
                                            <div class="col-4">`+
                                              params_data.MIR_YOUTH_RT +
                                            `</div>
                                          </div>
                                        </div>
                                        <div class="col">
                                          <div class="form-group row">
                                            <div class="col-8" style="text-align: right">
                                              Simulation day:
                                            </div>
                                            <div class="col-4">`+
                                              params_data.MIR_ADULT_RT +
                                            `</div>
                                          </div>
                                        </div>
                                        <div class="col">
                                          <div class="form-group row">
                                            <div class="col-8" style="text-align: right">
                                              Simulation times:
                                            </div>
                                            <div class="col-4">`+
                                              params_data.MIR_ELDER_RT +
                                            `</div>
                                          </div>
                                        </div>
                                        <div class="col">
                                        </div>
                                      </div>
                                    </div>
                                  </div>
                                </div>

                                <div class="card" >
                                  <div class="card-header" id="severe_rate_header">
                                    <h5 class="mb-0">
                                      <button class="btn btn-link" data-toggle="collapse" data-target="#severe_rate_card_collapse" aria-expanded="true" aria-controls="severe_rate_card_collapse" style="text-decoration: none; color:#262626; font-weight:bold; font-size:20px">
                                        <i class="fa fa-dot-circle"></i> &nbsp; Severe Rate
                                      </button>
                                    </h5>
                                  </div>
                                  <div id="severe_rate_card_collapse" class="collapse show" aria-labelledby="severe_rate_header" data-parent="#accordion">
                                    <div class="card-body">
                                      <div class="row">
                                        <div class="col">
                                          <div class="form-group row">
                                            <div class="col-8" style="text-align: right">
                                              Idex case number:
                                            </div>
                                            <div class="col-4">`+
                                              params_data.SR_YOUTH_48_RT +
                                            `</div>
                                          </div>
                                        </div>
                                        <div class="col">
                                          <div class="form-group row">
                                            <div class="col-8" style="text-align: right">
                                              Simulation day:
                                            </div>
                                            <div class="col-4">`+
                                              params_data.SR_ADULT_48_RT +
                                            `</div>
                                          </div>
                                        </div>
                                        <div class="col">
                                          <div class="form-group row">
                                            <div class="col-8" style="text-align: right">
                                              Simulation times:
                                            </div>
                                            <div class="col-4">`+
                                              params_data.SR_ELDER_48_RT +
                                            `</div>
                                          </div>
                                        </div>
                                        <div class="col">
                                        </div>
                                      </div>
                                      <div class="row">
                                        <div class="col">
                                          <div class="form-group row">
                                            <div class="col-8" style="text-align: right">
                                              Idex case number:
                                            </div>
                                            <div class="col-4">`+
                                              params_data.SR_YOUTH_N48_RT +
                                            `</div>
                                          </div>
                                        </div>
                                        <div class="col">
                                          <div class="form-group row">
                                            <div class="col-8" style="text-align: right">
                                              Simulation day:
                                            </div>
                                            <div class="col-4">`+
                                              params_data.SR_ADULT_N48_RT +
                                            `</div>
                                          </div>
                                        </div>
                                        <div class="col">
                                          <div class="form-group row">
                                            <div class="col-8" style="text-align: right">
                                              Simulation times:
                                            </div>
                                            <div class="col-4">`+
                                              params_data.SR_ELDER_N48_RT +
                                            `</div>
                                          </div>
                                        </div>
                                        <div class="col">
                                        </div>
                                      </div>
                                    </div>
                                  </div>
                                </div>
                              </div>
                            `
                            document.getElementById("simulation_model_result").insertAdjacentHTML('beforeend', load_simulation_model_result)
                        },
                        error: function(error_data){
                          console.log('error');
                        }
                    })
                  }


                }
                if (data.task_status) {
                  // Start from here tomorrow
                  update_chart_pannel()

                  var alert_holding_html = `
                  <div class="alert alert-success alert-dismissible fade show" role="alert" style="margin-top:-30px; text-align: center; font-size: 20px">
                    <strong>Simulation is finished successfully!</strong>
                    <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                      <span aria-hidden="true">&times;</span>
                    </button>
                  </div>
                  `
                  document.getElementById("alert-holding-div").innerHTML = alert_holding_html;


                  if ($('#loading_message').children().length != 0) {
                    const loading_message_node = document.getElementById("loading_message");
                    loading_message_node.innerHTML = '';
                  }

                  clearInterval(interval); // stop the interval
                }
                update_chart_pannel()
            },
            error: function(error_data){
              console.log('error {{analysis_code}}');
            }
        })
      }
    }

  </script>



  <div id="form_wrapper">
    <form enctype="multipart/form-data" required="True" method="post">
        {% csrf_token %}
        {{ form }}
        <!-- <input class="form-control" type="number" value="5000" name="try_" id="try_"> -->

      <input type="submit" id="run_model" name="run_model" class="btn btn-success btn-lg btn-block" value="Run the Model" style="margin-bottom: 50px">
                <!-- {% if button_bool %}
        {% else %}
        {% endif %} -->
    <!-- </form>


    <!-- <form enctype="multipart/form-data" required="True" method="post">
        {% csrf_token %}
        {{ form }} -->
      <h4 style="margin-bottom:20px"><i class="fa fa-dot-circle"></i> &nbsp; Basic Model Parameters</h4>
      <div class="row">
        <div class="col">
          <div class="form-group row">
            <label style="text-align: right" for="BMP_IDX_CASE_NUM" class="col-7 col-form-label">Idex case number</label>
            <div class="col-5">
              <input class="form-control" type="number" value="{{BMP_IDX_CASE_NUM}}" id="BMP_IDX_CASE_NUM" name="BMP_IDX_CASE_NUM">
            </div>
          </div>
        </div>
        <div class="col">
          <div class="form-group row">
            <label style="text-align: right" for="BMP_SIMULATION_DAY" class="col-7 col-form-label">Simulation day</label>
            <div class="col-5">
              <input class="form-control" type="number" value="{{BMP_SIMULATION_DAY}}" id="BMP_SIMULATION_DAY" name="BMP_SIMULATION_DAY">
            </div>
          </div>
        </div>
        <div class="col">
          <div class="form-group row">
            <label style="text-align: right" for="BMP_SIMULATION_TIME" class="col-7 col-form-label">Simulation times</label>
            <div class="col-5">
              <input class="form-control" type="number" value="{{BMP_SIMULATION_TIME}}" id="BMP_SIMULATION_TIME" name="BMP_SIMULATION_TIME">
            </div>
          </div>
        </div>
        <div class="col">
          <div class="form-group row">
            <label style="text-align: right" for="BMP_CYCLE_DAYS" class="col-7 col-form-label">Cycle days</label>
            <div class="col-5">
              <input class="form-control" type="number" value="{{BMP_CYCLE_DAYS}}" id="BMP_CYCLE_DAYS" name="BMP_CYCLE_DAYS">
            </div>
          </div>
        </div>
      </div>
      <hr>

      <h4 style="margin-bottom:20px"><i class="fa fa-dot-circle"></i> &nbsp; Age Group Percentage</h4>
      <div class="row">
        <div class="col">
          <div class="form-group row">
            <label style="text-align: right" for="AGP_YOUTH_GRP" class="col-7 col-form-label"> ≤ 18 </label>
            <div class="col-5">
              <input class="form-control" type="number" value="{{AGP_YOUTH_GRP}}" step="0.01" id="AGP_YOUTH_GRP" name="AGP_YOUTH_GRP">
            </div>
          </div>
        </div>
        <div class="col">
          <div class="form-group row">
            <label style="text-align: right" for="AGP_ADULT_GRP" class="col-7 col-form-label"> 19 - 64  </label>
            <div class="col-5">
              <input class="form-control" type="number" value="{{AGP_ADULT_GRP}}" step="0.01" id="AGP_ADULT_GRP" name="AGP_ADULT_GRP">
            </div>
          </div>
        </div>
        <div class="col">
          <div class="form-group row">
            <label style="text-align: right" for="AGP_ELDER_GRP" class="col-7 col-form-label">  ≥ 65 </label>
            <div class="col-5">
              <input class="form-control" type="number" value="{{AGP_ELDER_GRP}}" step="0.01" id="AGP_ELDER_GRP" name="AGP_ELDER_GRP">
            </div>
          </div>
        </div>
        <div class="col">
        </div>
      </div>
      <br>


      <h4 style="margin-bottom:20px"><i class="fa fa-dot-circle"></i> &nbsp; Contact Rate</h4>
      <div class="row">
        <div class="col">
          <div class="form-group row">
            <label style="text-align: right" for="CR_SAME_GRP" class="col-7 col-form-label"> Same age group </label>
            <div class="col-5">
              <input class="form-control" type="number" value="{{CR_SAME_GRP}}" step="0.01" id="CR_SAME_GRP" name="CR_SAME_GRP">
            </div>
          </div>
        </div>
        <div class="col">
          <div class="form-group row">
            <label style="text-align: right" for="CR_DIFF_GRP" class="col-7 col-form-label"> Different age group  </label>
            <div class="col-5">
              <input class="form-control" type="number" value="{{CR_DIFF_GRP}}" step="0.01" id="CR_DIFF_GRP" name="CR_DIFF_GRP">
            </div>
          </div>
        </div>
        <div class="col">
        </div>
        <div class="col">
        </div>
      </div>
      <br>

      <h4 style="margin-bottom:20px"><i class="fa fa-dot-circle"></i> &nbsp; Vaccine Rate</h4>
      <div class="row">
        <div class="col">
          <div class="form-group row">
            <label style="text-align: right" for="VR_YOUTH_RT" class="col-7 col-form-label"> ≤ 18 </label>
            <div class="col-5">
              <input class="form-control" type="number" value="{{VR_YOUTH_RT}}" step="0.001" id="VR_YOUTH_RT" name="VR_YOUTH_RT">
            </div>
          </div>
        </div>
        <div class="col">
          <div class="form-group row">
            <label style="text-align: right" for="VR_ADULT_RT" class="col-7 col-form-label"> 19 - 64  </label>
            <div class="col-5">
              <input class="form-control" type="number" value="{{VR_ADULT_RT}}" step="0.001" id="VR_ADULT_RT" name="VR_ADULT_RT">
            </div>
          </div>
        </div>
        <div class="col">
          <div class="form-group row">
            <label style="text-align: right" for="VR_ELDER_RT" class="col-7 col-form-label">  ≥ 65 </label>
            <div class="col-5">
              <input class="form-control" type="number" value="{{VR_ELDER_RT}}" step="0.001" id="VR_ELDER_RT" name="VR_ELDER_RT">
            </div>
          </div>
        </div>
        <div class="col">
        </div>
      </div>
      <br>

      <h4 style="margin-bottom:20px"><i class="fa fa-dot-circle"></i> &nbsp; Infection Rate</h4>
      <div class="row">
        <div class="col">
          <div class="form-group row">
            <label style="text-align: right" for="IR_YOUTH_V_RT" class="col-7 col-form-label"> ≤ 18 with vaccine </label>
            <div class="col-5">
              <input class="form-control" type="number" value="{{IR_YOUTH_V_RT}}" step="0.001" id="IR_YOUTH_V_RT" name="IR_YOUTH_V_RT">
            </div>
          </div>
        </div>
        <div class="col">
          <div class="form-group row">
            <label style="text-align: right" for="IR_ADULT_V_RT" class="col-7 col-form-label"> 19 - 64 with vaccine </label>
            <div class="col-5">
              <input class="form-control" type="number" value="{{IR_ADULT_V_RT}}" step="0.001" id="IR_ADULT_V_RT" name="IR_ADULT_V_RT">
            </div>
          </div>
        </div>
        <div class="col">
          <div class="form-group row">
            <label style="text-align: right" for="IR_ELDER_V_RT" class="col-7 col-form-label">  ≥ 65 with vaccine</label>
            <div class="col-5">
              <input class="form-control" type="number" value="{{IR_ELDER_V_RT}}" step="0.001" id="IR_ELDER_V_RT" name="IR_ELDER_V_RT">
            </div>
          </div>
        </div>
        <div class="col">
        </div>
      </div>
      <div class="row">
        <div class="col">
          <div class="form-group row">
            <label style="text-align: right" for="IR_YOUTH_NV_RT" class="col-7 col-form-label"> ≤ 18 no vaccine </label>
            <div class="col-5">
              <input class="form-control" type="number" value="{{IR_YOUTH_NV_RT}}" step="0.001" id="IR_YOUTH_NV_RT" name="IR_YOUTH_NV_RT">
            </div>
          </div>
        </div>
        <div class="col">
          <div class="form-group row">
            <label style="text-align: right" for="IR_ADULT_NV_RT" class="col-7 col-form-label"> 19 - 64 no vaccine </label>
            <div class="col-5">
              <input class="form-control" type="number" value="{{IR_ADULT_NV_RT}}" step="0.001" id="IR_ADULT_NV_RT" name="IR_ADULT_NV_RT">
            </div>
          </div>
        </div>
        <div class="col">
          <div class="form-group row">
            <label style="text-align: right" for="IR_ELDER_NV_RT" class="col-7 col-form-label">  ≥ 65 no vaccine</label>
            <div class="col-5">
              <input class="form-control" type="number" value="{{IR_ELDER_NV_RT}}" step="0.001" id="IR_ELDER_NV_RT" name="IR_ELDER_NV_RT">
            </div>
          </div>
        </div>
        <div class="col">
        </div>
      </div>
      <br>

      <h4 style="margin-bottom:20px"><i class="fa fa-dot-circle"></i> &nbsp; Seek Treatment Rate</h4>
      <div class="row">
        <div class="col">
          <div class="form-group row">
            <label style="text-align: right" for="STR_YOUTH_RT" class="col-7 col-form-label"> ≤ 18 </label>
            <div class="col-5">
              <input class="form-control" type="number" value="{{STR_YOUTH_RT}}" step="0.01" id="STR_YOUTH_RT" name="STR_YOUTH_RT">
            </div>
          </div>
        </div>
        <div class="col">
          <div class="form-group row">
            <label style="text-align: right" for="STR_ADULT_RT" class="col-7 col-form-label"> 19 - 64  </label>
            <div class="col-5">
              <input class="form-control" type="number" value="{{STR_ADULT_RT}}" step="0.01" id="STR_ADULT_RT" name="STR_ADULT_RT">
            </div>
          </div>
        </div>
        <div class="col">
          <div class="form-group row">
            <label style="text-align: right" for="STR_ELDER_RT" class="col-7 col-form-label">  ≥ 65 </label>
            <div class="col-5">
              <input class="form-control" type="number" value="{{STR_ELDER_RT}}" step="0.01" id="STR_ELDER_RT" name="STR_ELDER_RT">
            </div>
          </div>
        </div>
        <div class="col">
        </div>
      </div>
      <br>





      <h4 style="margin-bottom:20px"><i class="fa fa-dot-circle"></i> &nbsp; Medicine Intake Rate</h4>
      <div class="row">
        <div class="col">
          <div class="form-group row">
            <label style="text-align: right" for="MIR_YOUTH_RT" class="col-7 col-form-label"> ≤ 18 </label>
            <div class="col-5">
              <input class="form-control" type="number" value="{{MIR_YOUTH_RT}}" step="0.01" id="MIR_YOUTH_RT" name="MIR_YOUTH_RT">
            </div>
          </div>
        </div>
        <div class="col">
          <div class="form-group row">
            <label style="text-align: right" for="MIR_ADULT_RT" class="col-7 col-form-label"> 19 - 64  </label>
            <div class="col-5">
              <input class="form-control" type="number" value="{{MIR_ADULT_RT}}" step="0.01" id="MIR_ADULT_RT" name="MIR_ADULT_RT">
            </div>
          </div>
        </div>
        <div class="col">
          <div class="form-group row">
            <label style="text-align: right" for="MIR_ELDER_RT" class="col-7 col-form-label">  ≥ 65 </label>
            <div class="col-5">
              <input class="form-control" type="number" value="{{MIR_ELDER_RT}}" step="0.01" id="MIR_ELDER_RT" name="MIR_ELDER_RT">
            </div>
          </div>
        </div>
        <div class="col">
        </div>
      </div>
      <br>

      <h4 style="margin-bottom:20px"><i class="fa fa-dot-circle"></i> &nbsp; Severe Rate</h4>
      <div class="row">
        <div class="col">
          <div class="form-group row">
            <label style="text-align: right" for="SR_YOUTH_48_RT" class="col-7 col-form-label"> ≤ 18 with medicine </label>
            <div class="col-5">
              <input class="form-control" type="number" value="{{SR_YOUTH_48_RT}}" step="0.000001" id="SR_YOUTH_48_RT" name="SR_YOUTH_48_RT">
            </div>
          </div>
        </div>
        <div class="col">
          <div class="form-group row">
            <label style="text-align: right" for="SR_ADULT_48_RT" class="col-7 col-form-label"> 19 - 64 with medicine </label>
            <div class="col-5">
              <input class="form-control" type="number" value="{{SR_ADULT_48_RT}}" step="0.000001" id="SR_ADULT_48_RT" name="SR_ADULT_48_RT">
            </div>
          </div>
        </div>
        <div class="col">
          <div class="form-group row">
            <label style="text-align: right" for="SR_ELDER_48_RT" class="col-7 col-form-label">  ≥ 65 with medicine</label>
            <div class="col-5">
              <input class="form-control" type="number" value="{{SR_ELDER_48_RT}}" step="0.000001" id="SR_ELDER_48_RT" name="SR_ELDER_48_RT">
            </div>
          </div>
        </div>
        <div class="col">
        </div>
      </div>
      <div class="row">
        <div class="col">
          <div class="form-group row">
            <label style="text-align: right" for="SR_YOUTH_N48_RT" class="col-7 col-form-label"> ≤ 18 no medicine </label>
            <div class="col-5">
              <input class="form-control" type="number" value="{{SR_YOUTH_N48_RT}}" step="0.000001" id="SR_YOUTH_N48_RT" name="SR_YOUTH_N48_RT">
            </div>
          </div>
        </div>
        <div class="col">
          <div class="form-group row">
            <label style="text-align: right" for="SR_ADULT_N48_RT" class="col-7 col-form-label"> 19 - 64 no medicine </label>
            <div class="col-5">
              <input class="form-control" type="number" value="{{SR_ADULT_N48_RT}}" step="0.000001" id="SR_ADULT_N48_RT" name="SR_ADULT_N48_RT">
            </div>
          </div>
        </div>
        <div class="col">
          <div class="form-group row">
            <label style="text-align: right" for="SR_ELDER_N48_RT" class="col-7 col-form-label">  ≥ 65 no medicine</label>
            <div class="col-5">
              <input class="form-control" type="number" value="{{SR_ELDER_N48_RT}}" step="0.000001" id="SR_ELDER_N48_RT" name="SR_ELDER_N48_RT">
            </div>
          </div>
        </div>
        <div class="col">
        </div>
      </div>
      <br>


      <h4 style="margin-bottom:20px"><i class="fa fa-dot-circle"></i> &nbsp; Mortality Rate</h4>
      <div class="row">
        <div class="col">
          <div class="form-group row">
            <label style="text-align: right" for="FR_YOUTH_RT" class="col-7 col-form-label"> ≤ 18 </label>
            <div class="col-5">
              <input class="form-control" type="number" value="{{FR_YOUTH_RT}}" step="0.01" id="FR_YOUTH_RT" name="FR_YOUTH_RT">
            </div>
          </div>
        </div>
        <div class="col">
          <div class="form-group row">
            <label style="text-align: right" for="FR_ADULT_RT" class="col-7 col-form-label"> 19 - 64  </label>
            <div class="col-5">
              <input class="form-control" type="number" value="{{FR_ADULT_RT}}" step="0.01" id="FR_ADULT_RT" name="FR_ADULT_RT">
            </div>
          </div>
        </div>
        <div class="col">
          <div class="form-group row">
            <label style="text-align: right" for="FR_ELDER_RT" class="col-7 col-form-label">  ≥ 65 </label>
            <div class="col-5">
              <input class="form-control" type="number" value="{{FR_ELDER_RT}}" step="0.01" id="FR_ELDER_RT" name="FR_ELDER_RT">
            </div>
          </div>
        </div>
        <div class="col">
        </div>
      </div>
      <br>
  <!--
      <input type="submit" id="parameters_submit_btn" name="parameters_submit_btn" class="btn btn-success btn-lg btn-block" value="Set Parameters" style="margin-bottom: 50px"> -->

    </form>
  </div>

  <div id="simulation_model_result">
  </div>
</div>


<!-- class FatalityRate(Enum):
    YOUTH_RT = 0.12
    ADULT_RT = 0.14
    ELDER_RT = 0.14

class effectiveness(Enum):
    MILD = (-0.88)*7/365
    SEVERE = (-0.88)*7/365 + (-0.98)*5.4/365
    DEATH = (-0.88)*7/365 + (-0.98)*5.4/365 + (-1)*(HEALTH_LIFE_EXP-SEVERE_AVG_DEATH_AGE)

class VaccineExpen(Enum):
    YOUTH_TRIVALENT_VAC = 500
    ADULT_TRIVALENT_VAC = 500
    ELDER_TRIVALENT_VAC = 500
    YOUTH_HIGH_DOSE_VAC = 0
    ADULT_HIGH_DOSE_VAC = 0
    ELDER_HIGH_DOSE_VAC = 1656
    YOUTH_ADJUVANTED_VAC = 0
    ADULT_ADJUVANTED_VAC = 0
    ELDER_ADJUVANTED_VAC = 1696

class HealthExpen(Enum):
    YOUTH_OUTPATIENT = 371
    ADULT_OUTPATIENT = 372
    ELDER_OUTPATIENT = 401
    YOUTH_ANTI_VIRUS = 950
    ADULT_ANTI_VIRUS = 950
    ELDER_ANTI_VIRUS = 950
    YOUTH_HOSPITALIZED = 45935
    ADULT_HOSPITALIZED = 45935
    ELDER_HOSPITALIZED = 45935



More:
HEALTH_LIFE_EXP = 71.2
SEVERE_AVG_DEATH_AGE = 40
IDX_SEEK_TREATMENT_PROB = 0.1 -->




<!-- <div id="carouselExampleIndicators" class="carousel slide" data-ride="carousel">
    <ol class="carousel-indicators">
        <li data-target="#carouselExampleIndicators" data-slide-to="0" class="active"></li>
        <li data-target="#carouselExampleIndicators" data-slide-to="1"></li>
        <li data-target="#carouselExampleIndicators" data-slide-to="2"></li>
    </ol>
    <div class="carousel-inner">
        <div class="carousel-item active">
            <img src="{% static "images/phylo_tree.png" %}" alt="Slide show - 1 (Maybe we can put current tree)" class="d-block w-100"  height="400" width="42" style="background-image: url('/static/images/main-background.png'); background-position: center center;  background-repeat: no-repeat;">
        </div>
        <div class="carousel-item">
            <img src="{% static "images/workflow.png" %}" alt="Slide show - 2 (Maybe we can put workflow)" class="d-block w-100"  height="400" width="42" style="background-image: url('/static/images/main-background.png'); background-position: center center;  background-repeat: no-repeat;">
        </div>
        <div class="carousel-item">
            <img src="{% static "images/Others.jpg" %}" alt="Slide show - 3 (Others)" class="d-block w-100"  height="400" width="42" style="background-image: url('/static/images/main-background.png'); background-position: center center;  background-repeat: no-repeat;">
        </div>
    </div>
    <a class="carousel-control-prev" href="#carouselExampleIndicators" role="button" data-slide="prev">
        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
        <span class="sr-only">Previous</span>
    </a>
    <a class="carousel-control-next" href="#carouselExampleIndicators" role="button" data-slide="next">
        <span class="carousel-control-next-icon" aria-hidden="true"></span>
        <span class="sr-only">Next</span>
    </a>
</div> -->
{% endblock content %}
